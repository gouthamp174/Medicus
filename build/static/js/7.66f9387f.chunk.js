(this.webpackJsonpmedicus=this.webpackJsonpmedicus||[]).push([[7],{139:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var c=n(0),a=n(20),r=n(13),s=n(51),i=n(55),o=n(12),l=n.n(o),u=n(32),d=n(11),j=n(14),b=n(8),h=n(33),m=n(50),p=n(19),f=n(24),O=n(1);function x(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)({firstName:e.user.firstName?e.user.firstName:"",lastName:e.user.lastName?e.user.lastName:"",dob:Object(h.f)({date:e.user.dob}),gender:e.user.gender?e.user.gender:"",emailId:e.user.emailId?e.user.emailId:"",phoneNumber:e.user.phoneNumber?e.user.phoneNumber:""}),o=Object(b.a)(i,2),p=o[0],x=o[1];function N(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(Object(d.a)(Object(d.a)({},p),{},Object(u.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(j.a)(l.a.mark((function t(n){var c,a,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,c=new Date(p.dob),a={firstName:p.firstName,lastName:p.lastName,dob:c,gender:p.gender,emailId:p.emailId,phoneNumber:p.phoneNumber},t.next=6,fetch("/api/users/".concat(e.user.username),{method:"PUT",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)},body:JSON.stringify(a)});case 6:return r=t.sent,t.next=9,r.json();case 9:if(i=t.sent,r.ok){t.next=12;break}throw new Error(i.message);case 12:if(!e.updateUser){t.next=15;break}return t.next=15,e.updateUser(a);case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),console.error("Failed to update account information. ".concat(t.t0)),s(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}new Date;return Object(O.jsxs)(m.a,{className:"container-fluid",handleSubmit:function(e){return g.apply(this,arguments)},children:[p.errorMessage&&Object(O.jsx)(m.f,{className:"justify-content-center",children:Object(O.jsx)("div",{className:"alert alert-danger",role:"alert",children:a})}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"acctInput01",className:"col-12 col-sm-4",children:"Full Name"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-8",children:Object(O.jsxs)(r.g,{children:[Object(O.jsx)(r.a,{className:"col-sm-auto",children:Object(O.jsx)("input",{type:"text",id:"acctInput01",name:"firstName",className:"form-control",value:p.firstName,onChange:N,placeholder:"First name"})}),Object(O.jsx)(r.a,{className:"col-sm-auto",children:Object(O.jsx)("input",{type:"text",id:"acctInput02",name:"lastName",className:"form-control",value:p.lastName,onChange:N,placeholder:"Last name"})})]})})]}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"acctInput03",className:"col-12 col-sm-4",children:"Date of Birth"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)(h.a,{id:"acctInput03",name:"dob",label:"Date of Birth",value:p.dob,handleChange:N,required:!0})})]}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"acctInput04",className:"col-12 col-sm-4",children:"Gender"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)(f.f,{id:"acctInput04",className:"form-control",name:"gender",label:"Gender",value:p.gender,handleChange:N,required:!0})})]}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"acctInput05",className:"col-12 col-sm-4",children:"Email ID"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)("input",{type:"text",id:"acctInput05",name:"emailId",className:"form-control",placeholder:"Email ID",value:p.emailId,onChange:N})})]}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"acctInput06",className:"col-12 col-sm-4",children:"Phone Number"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)("input",{type:"text",id:"acctInput06",name:"phoneNumber",className:"form-control",placeholder:"Phone Number",value:p.phoneNumber,onChange:N})})]}),Object(O.jsx)(m.f,{className:"justify-content-center",children:Object(O.jsx)(m.g,{type:"submit",className:"col-auto col-sm-4",children:"Save"})})]})}function N(e){var t=new Date(e.user.dob);return Object(O.jsx)(r.e,{children:Object(O.jsxs)(r.c,{className:"justify-content-center",children:[Object(O.jsx)(r.d,{className:"col-12 col-sm-4",children:"Full Name"}),Object(O.jsx)(r.b,{className:"col-12 col-sm-8",children:Object(O.jsx)(f.d,{user:e.user})}),Object(O.jsx)(r.d,{className:"col-12 col-sm-4",children:"Date of Birth"}),Object(O.jsx)(r.b,{className:"col-12 col-sm-8",children:Object(O.jsx)(h.g,{date:t})}),Object(O.jsx)(r.d,{className:"col-12 col-sm-4",children:"Gender"}),Object(O.jsx)(r.b,{className:"col-12 col-sm-8",children:Object(O.jsx)(f.e,{user:e.user})}),Object(O.jsx)(r.d,{className:"col-12 col-sm-4",children:"Email ID"}),Object(O.jsx)(r.b,{className:"col-12 col-sm-8",children:Object(O.jsx)(f.c,{user:e.user})}),Object(O.jsx)(r.d,{className:"col-12 col-sm-4",children:"Phone Number"}),Object(O.jsx)(r.b,{className:"col-12 col-sm-8",children:Object(O.jsx)(f.h,{user:e.user})})]})})}function v(e){var t=Object(a.c)((function(e){return e.session})),n=Object(a.b)(),r=Object(c.useState)(!1),i=Object(b.a)(r,2),o=i[0],u=i[1],h=Object(c.useState)(!0),m=Object(b.a)(h,2),f=m[0],v=m[1],g=Object(c.useState)({}),y=Object(b.a)(g,2),w=y[0],k=y[1];function P(e){return C.apply(this,arguments)}function C(){return(C=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u(!o);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(Object(d.a)(Object(d.a)({},w),t)),n({type:"session/set",payload:{firstName:w.firstName,lastName:w.lastName}}),u(!o);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,fetch("/api/users/".concat(t.username),{headers:{Authorization:"Bearer ".concat(t.authToken)}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,n.ok){e.next=10;break}throw new Error(c.message);case 10:k(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Failed to get user account information. ".concat(e.t0));case 16:return e.prev=16,v(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(O.jsxs)(s.e,{children:[Object(O.jsx)(s.a,{title:"Account Information",children:o?Object(O.jsx)(s.b,{name:"Cancel",icon:"clear",handleClick:P}):Object(O.jsx)(s.b,{name:"Edit",icon:"edit",handleClick:P})}),Object(O.jsx)(s.f,{children:f?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.b,{isLoading:!0})}):Object(O.jsx)(O.Fragment,{children:o?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(x,{session:t,user:w,updateUser:function(e){return S.apply(this,arguments)}})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(N,{user:w})})})})]})}var g=n(58);function y(e){var t=Object(a.c)((function(e){return e.session})),n=Object(a.b)(),r=Object(c.useState)(!1),i=Object(b.a)(r,2),o=i[0],u=i[1];function d(e){return h.apply(this,arguments)}function h(){return(h=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u(!o);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(j.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,fetch("/api/users/".concat(t.username),{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.authToken)}});case 4:return a=e.sent,e.next=7,a.json();case 7:if(r=e.sent,a.ok){e.next=10;break}throw new Error(r.message);case 10:return e.next=12,fetch("/api/auth/signout",{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.authToken)}});case 12:return s=e.sent,e.next=15,s.json();case 15:if(r=e.sent,s.ok){e.next=18;break}throw new Error(r.message);case 18:n({type:"session/reset"}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error("Failed to delete user. ".concat(e.t0));case 24:case"end":return e.stop()}}),e,null,[[1,21]])})))).apply(this,arguments)}return Object(O.jsxs)(s.e,{children:[Object(O.jsx)(s.a,{title:"Delete Account",children:o?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(s.c,{children:[Object(O.jsx)(g.j,{children:Object(O.jsx)(s.b,{name:"Accept",icon:"check",handleClick:function(e){return m.apply(this,arguments)}})}),Object(O.jsx)(g.j,{children:Object(O.jsx)(s.b,{name:"Cancel",icon:"clear",handleClick:d})})]})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(s.b,{name:"Delete",icon:"delete",handleClick:d})})}),o&&Object(O.jsx)(s.f,{children:Object(O.jsx)("div",{class:"alert alert-danger",role:"alert",children:"Once your account is deleted, all your information is removed from our website and it cannot be retrieved back. Please reconsider once before proceeding. We're sad to see you leave."})})]})}function w(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),i=Object(b.a)(s,2),o=i[0],h=i[1];function p(e){return f.apply(this,arguments)}function f(){return(f=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(d.a)(Object(d.a)({},o),{},Object(u.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(j.a)(l.a.mark((function t(n){var c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,o.confirmPassword===o.newPassword){t.next=4;break}throw new Error("New Password and Comfirm Password do not match.");case 4:return t.next=6,fetch("/api/auth/password",{method:"PUT",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)},body:JSON.stringify({currentPassword:o.currentPassword,newPassword:o.newPassword})});case 6:return c=t.sent,t.next=9,c.json();case 9:if(a=t.sent,c.ok){t.next=12;break}throw new Error(a.message);case 12:e.updatePassword&&e.updatePassword(),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.error("Failed to update user password. ".concat(t.t0)),r(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}return Object(O.jsxs)(m.a,{className:"container-fluid",handleSubmit:function(e){return x.apply(this,arguments)},children:[a&&Object(O.jsx)(m.f,{className:"justify-content-center",children:Object(O.jsx)("div",{className:"alert alert-danger",role:"alert",children:a})}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"passwordInput01",className:"col-12 col-sm-4",children:"Current Password"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)("input",{type:"password",id:"passwordInput01",name:"currentPassword",className:"form-control",placeholder:"",value:o.currentPassword,onChange:p,minlength:"8",maxlength:"20",required:!0})})]}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"passwordInput02",className:"col-12 col-sm-4",children:"New Password"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)("input",{type:"password",id:"passwordInput02",name:"newPassword",className:"form-control",placeholder:"",value:o.newPassword,onChange:p,minlength:"8",maxlength:"20",required:!0})})]}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"passwordInput03",className:"col-12 col-sm-4",children:"Confirm Password"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)("input",{type:"password",id:"passwordInput03",name:"confirmPassword",className:"form-control",placeholder:"",value:o.confirmPassword,onChange:p,minlength:"8",maxlength:"20",required:!0})})]}),Object(O.jsx)(m.f,{className:"justify-content-center",children:Object(O.jsx)(m.g,{className:"col-auto col-sm-4",children:"Save"})})]})}function k(e){var t=Object(a.c)((function(e){return e.session})),n=Object(c.useState)(!1),r=Object(b.a)(n,2),i=r[0],o=r[1];function u(e){return d.apply(this,arguments)}function d(){return(d=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(!i);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!i);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)(s.e,{children:[Object(O.jsx)(s.a,{title:"Change Password",children:i?Object(O.jsx)(s.b,{name:"Cancel",icon:"clear",handleClick:u}):Object(O.jsx)(s.b,{name:"Edit",icon:"edit",handleClick:u})}),i&&Object(O.jsx)(s.f,{children:Object(O.jsx)(w,{session:t,updatePassword:function(){return h.apply(this,arguments)}})})]})}function P(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)({qualification:e.user.qualification?e.user.qualification:"",specialization:e.user.specialization?e.user.specialization:""}),i=Object(b.a)(s,2),o=i[0],h=i[1];function p(e){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(d.a)(Object(d.a)({},o),{},Object(u.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(j.a)(l.a.mark((function t(n){var c,a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,c={qualification:o.qualification,specialization:o.specialization},t.next=5,fetch("/api/users/".concat(e.session.username),{method:"PUT",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)},body:JSON.stringify(c)});case 5:return a=t.sent,t.next=8,a.json();case 8:if(s=t.sent,a.ok){t.next=11;break}throw new Error(s.message);case 11:e.updateUser&&e.updateUser(c),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.error("Failed to update physician information. ".concat(t.t0)),r(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[1,14]])})))).apply(this,arguments)}return Object(O.jsxs)(m.a,{className:"container-fluid",handleSubmit:function(e){return N.apply(this,arguments)},children:[a&&Object(O.jsx)(m.f,{className:"justify-content-center",children:Object(O.jsx)("div",{className:"alert alert-danger",role:"alert",children:a})}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"physicianInput01",className:"col-12 col-sm-4",children:"Qualification"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)(f.k,{id:"physicianInput01",className:"form-control",name:"qualification",value:o.qualification,handleChange:p,required:!0})})]}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"physicianInput02",className:"col-12 col-sm-4",children:"Specialization"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-auto",children:Object(O.jsx)(f.m,{id:"physicianInput02",className:"form-control",name:"specialization",value:o.specialization,handleChange:p,required:!0})})]}),Object(O.jsx)(m.f,{className:"justify-content-center",children:Object(O.jsx)(m.g,{type:"submit",className:"col-auto col-sm-4",children:"Save"})})]})}function C(e){return Object(O.jsx)(r.e,{children:Object(O.jsxs)(r.c,{className:"justify-content-center",children:[Object(O.jsx)(r.d,{className:"col-12 col-sm-4",children:"Qualification"}),Object(O.jsx)(r.b,{className:"col-12 col-sm-8",children:e.user.qualification}),Object(O.jsx)(r.d,{className:"col-12 col-sm-4",children:"Specialization"}),Object(O.jsx)(r.b,{className:"col-12 col-sm-8",children:e.user.specialization})]})})}function S(e){var t=Object(a.c)((function(e){return e.session})),n=Object(c.useState)(!1),r=Object(b.a)(n,2),i=r[0],o=r[1],u=Object(c.useState)(!0),h=Object(b.a)(u,2),m=h[0],f=h[1],x=Object(c.useState)({}),N=Object(b.a)(x,2),v=N[0],g=N[1];function y(e){return w.apply(this,arguments)}function w(){return(w=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(!i);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(Object(d.a)(Object(d.a)({},v),t)),o(!i);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,fetch("/api/users/".concat(t.username),{headers:{Authorization:"Bearer ".concat(t.authToken)}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,n.ok){e.next=10;break}throw new Error(c.message);case 10:g(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Failed to get user account information. ".concat(e.t0));case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(O.jsxs)(s.e,{children:[Object(O.jsx)(s.a,{title:"Physician Information",children:i?Object(O.jsx)(s.b,{name:"Cancel",icon:"clear",handleClick:y}):Object(O.jsx)(s.b,{name:"Edit",icon:"edit",handleClick:y})}),Object(O.jsx)(s.f,{children:m?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.b,{isLoading:!0})}):Object(O.jsx)(O.Fragment,{children:i?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(P,{session:t,user:v,updateUser:function(e){return k.apply(this,arguments)}})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(C,{user:v})})})})]})}function I(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)({name:"",data:null}),o=Object(b.a)(i,2),u=o[0],h=o[1];function p(){return(p=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Object(d.a)(Object(d.a)({},u),{},{name:t.target.value,data:t.target.files[0]}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(j.a)(l.a.mark((function t(n){var c,a,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,c=e.session.username,(a=new FormData).append("data",u.data),a.append("isProfilePhoto",!0),t.next=8,fetch("/api/users/".concat(c,"/photos"),{method:"POST",credentials:"same-origin",headers:{Authorization:"Bearer ".concat(e.session.authToken)},body:a});case 8:return r=t.sent,t.next=11,r.json();case 11:if(i=t.sent,r.ok){t.next=14;break}throw new Error(i.message);case 14:e.updateProfilePhotoId&&e.updateProfilePhotoId(i.id),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),console.error("Failed to set new profile photo. ".concat(t.t0)),s(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}function N(){return(N=Object(j.a)(l.a.mark((function t(n){var c,a,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,c=e.session.username,a=e.session.profilePhotoId,t.next=6,fetch("/api/users/".concat(c,"/photos/").concat(a),{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)}});case 6:return r=t.sent,t.next=9,r.json();case 9:if(i=t.sent,r.ok){t.next=12;break}throw new Error(i.message);case 12:e.updateProfilePhotoId&&e.updateProfilePhotoId(null),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),console.error("Failed to delete profile photo. ".concat(t.t0)),s(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}return Object(O.jsxs)(m.a,{className:"container-fluid",handleSubmit:function(e){return x.apply(this,arguments)},enctype:"multipart/form-data",children:[a&&Object(O.jsx)(m.f,{className:"justify-content-center",children:Object(O.jsx)("div",{className:"alert alert-danger",role:"alert",children:a})}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"profilePhoto01",className:"col-12 col-sm-4",children:"Select new photo"}),Object(O.jsxs)(m.c,{className:"col-12 col-sm-auto",children:[Object(O.jsxs)(m.f,{children:[Object(O.jsx)("input",{id:"profilePhoto01",type:"file",name:"name",className:"custom-file-input",value:u.name,onChange:function(e){return p.apply(this,arguments)}}),Object(O.jsx)("label",{className:"custom-file-label",for:"generalInput07",children:u.name?u.name.replace(/^.*[\\\/]/,""):"Choose a file..."})]}),u.data&&Object(O.jsx)(m.f,{children:Object(O.jsxs)(r.e,{className:"m-2",children:[Object(O.jsx)(r.g,{for:"profilePhoto02",children:Object(O.jsx)(r.a,{children:"Preview"})}),Object(O.jsx)(r.g,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(f.i,{id:"profilePhoto02",className:"md-pfl-bg",alt:"Preview Photo",src:u.data})})})]})}),Object(O.jsx)(m.f,{className:"mt-3",children:Object(O.jsx)(m.g,{children:"Set as Profile photo"})})]})]}),Object(O.jsxs)(m.f,{children:[Object(O.jsx)(m.d,{for:"profilePhoto03",className:"col-12 col-sm-4",children:"Remove photo"}),Object(O.jsx)(m.c,{className:"col-12 col-sm-8",children:Object(O.jsx)(m.b,{className:"btn btn-danger",handleClick:function(e){return N.apply(this,arguments)},children:"Remove"})})]})]})}function E(e){var t=Object(a.c)((function(e){return e.session})),n=Object(a.b)(),r=Object(c.useState)(!1),i=Object(b.a)(r,2),o=i[0],u=i[1];function d(e){return h.apply(this,arguments)}function h(){return(h=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u(!o);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"session/set",payload:{profilePhotoId:t}}),u(!o);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)(s.e,{children:[Object(O.jsx)(s.a,{title:"Change Profile Photo",children:o?Object(O.jsx)(s.b,{name:"Cancel",icon:"clear",handleClick:d}):Object(O.jsx)(s.b,{name:"Edit",icon:"edit",handleClick:d})}),o&&Object(O.jsx)(s.f,{children:Object(O.jsx)(I,{session:t,updateProfilePhotoId:function(e){return m.apply(this,arguments)}})})]})}function F(e){var t=Object(a.c)((function(e){return e.session}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.d,{title:"Settings"}),Object(O.jsx)(r.g,{className:"flex-grow-1",children:Object(O.jsx)(r.a,{className:"pt-3",children:Object(O.jsxs)(r.e,{children:[Object(O.jsx)(s.m,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(v,{})})}),Object(O.jsx)(s.m,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(E,{})})}),Object(O.jsx)(s.m,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(k,{})})}),t.isPhysician&&Object(O.jsx)(s.m,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(S,{})})}),Object(O.jsx)(s.m,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(y,{})})})]})})})]})}},49:function(e,t,n){"use strict";function c(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return c}))},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d}));n(0);var c=n(3),a=n(1);function r(e){var t=e.enctype?e.enctype:"application/x-www-form-urlencoded";return Object(a.jsx)("form",{method:"post",autoComplete:e.autoComplete,enctype:t,className:Object(c.b)("",e.className),onSubmit:e.handleSubmit,children:e.children})}function s(e){return Object(a.jsx)("div",{className:Object(c.b)("form-row",e.className),children:e.children})}function i(e){return Object(a.jsx)("div",{className:Object(c.b)("form-group",e.className),children:e.children})}function o(e){return Object(a.jsx)("button",{type:e.type?e.type:"button",disabled:e.disabled,className:Object(c.b)("btn",e.className),onClick:e.handleClick,children:e.children})}function l(e){return Object(a.jsx)(o,{type:"submit",disabled:e.disabled,className:Object(c.b)("btn-primary",e.className),children:e.children})}function u(e){return Object(a.jsx)("label",{htmlFor:e.for,className:Object(c.b)("col-form-label",e.className),children:e.children})}function d(e){return Object(a.jsx)("legend",{htmlFor:e.for,className:Object(c.b)("col-form-label",e.className),children:e.children})}},51:function(e,t,n){"use strict";n.d(t,"m",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return N})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"k",(function(){return P})),n.d(t,"l",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return I}));var c=n(11),a=n(49),r=n(12),s=n.n(r),i=n(14),o=n(8),l=n(0),u=n(3),d=n(13),j=n(57),b=n(56),h=n(53),m=n(54),p=n(1);function f(e){return Object(p.jsx)(d.g,{className:Object(u.b)("mb-3",e.className),children:e.children})}function O(e){return Object(p.jsx)("div",{class:Object(u.b)("card-columns mb-3",e.className),children:e.children})}function x(e){return Object(p.jsx)(j.b,{className:Object(u.b)("md-widget mb-3",e.className),children:e.children})}function N(e){return Object(p.jsxs)("nav",{className:"card-header navbar md-title px-3 py-1",children:[Object(p.jsx)("h6",{className:"navbar-brand text-muted my-1 py-0",children:e.title}),e.children]})}function v(e){return Object(p.jsx)("ul",{className:Object(u.b)("nav",e.className),children:e.children})}function g(e){return Object(p.jsx)("button",{type:"button","data-toggle":"tooltip",title:e.name,className:"btn btn-sm p-2 d-flex align-items-center",onClick:e.handleClick,children:Object(p.jsx)(h.a,{children:e.icon})})}function y(e){var t=Object(l.useState)(!1),n=Object(o.a)(t,2),c=n[0],a=n[1];function r(){return(r=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!c);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsx)("button",{type:"button","data-toggle":"collapse","data-target":"#".concat(e.target),class:"btn btn-sm p-2 d-flex align-items-center",onClick:function(e){return r.apply(this,arguments)},"aria-expanded":"false","aria-controls":e.target,children:Object(p.jsx)(h.a,{children:c?e.collapseIcon:e.expandIcon})})}function w(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(p.jsx)(j.c,Object(c.a)(Object(c.a)({className:Object(u.b)("px-3 py-2",t)},n),{},{children:e.children}))}function k(e){var t=e.id,n=e.className,r=Object(a.a)(e,["id","className"]);return Object(p.jsx)(w,Object(c.a)(Object(c.a)({id:t},r),{},{className:Object(u.b)("collapse",n),children:e.children}))}function P(e){return Object(p.jsx)(b.a,{className:"list-group-flush",children:e.children})}function C(e){return Object(p.jsx)(b.c,{className:"py-2 px-0",children:e.children})}function S(e){return Object(p.jsxs)(m.a,{children:[Object(p.jsx)(m.b,{id:e.id,className:"p-2 d-flex align-items-center",children:Object(p.jsx)(h.a,{children:"more_horiz"})}),Object(p.jsx)(m.d,{labelledBy:e.id,className:"dropdown-menu-right",children:e.children})]})}function I(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(p.jsx)(m.e,Object(c.a)(Object(c.a)({className:Object(u.b)("d-flex align-items-center",t)},n),{},{children:e.children}))}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u}));n(0),n(31);var c=n(3),a=n(1);function r(e){return Object(a.jsx)("div",{className:Object(c.b)("dropdown",e.className),children:e.children})}function s(e){return Object(a.jsx)("button",{type:"button",id:e.id,"data-toggle":"dropdown",className:Object(c.b)("btn",e.className),"aria-haspopup":"true","aria-expanded":"false",children:e.children})}function i(e){return Object(a.jsx)("button",{type:"button",id:e.id,"data-toggle":"dropdown",className:Object(c.b)("btn dropdown-toggle",e.className),"aria-haspopup":"true","aria-expanded":"false",children:e.children})}function o(e){return Object(a.jsx)("div",{"aria-labelledby":e.labelledBy,className:Object(c.b)("dropdown-menu",e.className),children:e.children})}function l(e){return Object(a.jsx)("div",{className:Object(c.b)("dropdown-divider",e.className)})}function u(e){return Object(a.jsx)("button",{type:"button",onClick:e.handleClick,className:Object(c.b)("dropdown-item",e.className),name:e.name,value:e.value,disabled:Boolean(e.disabled),children:e.children})}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return w}));var c=n(12),a=n.n(c),r=n(32),s=n(14),i=n(8),o=n(11),l=n(49),u=n(0),d=n(20),j=n(3),b=n(1);var h=n(54),m=n(50),p=n(53),f=n(58),O=n(24);function x(e){var t=e.className,n=e.icon,c=Object(l.a)(e,["className","icon"]);return Object(b.jsx)(f.m,Object(o.a)(Object(o.a)({className:Object(j.b)("md-btn p-2 mx-1",t)},c),{},{children:Object(b.jsx)(p.a,{className:"d-flex align-items-center",children:n})}))}function N(e){var t=e.title,n=e.icon,c=Object(l.a)(e,["title","icon"]);return Object(b.jsxs)(f.i,Object(o.a)(Object(o.a)({className:"md-mi d-flex align-items-center"},c),{},{children:[Object(b.jsx)(p.a,{children:n}),Object(b.jsx)("p",{className:"my-0 pl-2 text-truncate",children:t})]}))}function v(e){var t=e.className,n=e.title,c=e.icon,a=Object(l.a)(e,["className","title","icon"]);return Object(b.jsxs)(f.k,Object(o.a)(Object(o.a)({},a),{},{className:Object(j.b)("md-btn mx-1 p-2 d-flex align-items-center",t),tooltip:n,role:"button",children:[Object(b.jsx)(p.a,{children:c}),Object(b.jsx)("p",{className:"my-0 pl-2 text-truncate d-md-none",children:n})]}))}function g(e){return Object(b.jsx)(f.l,{children:e.children})}function y(e){var t=Object(u.useState)({query:""}),n=Object(i.a)(t,2),c=n[0],l=n[1];function d(){return(d=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{e.handleSearch&&e.handleSearch(c.query)}catch(a){console.error("Failed to handle search query. ".concat(a))}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsx)(m.a,{handleSubmit:function(e){return h.apply(this,arguments)},className:Object(j.b)("form-inline mx-1 my-2 my-lg-0",e.className),children:Object(b.jsxs)("div",{className:"input-group w-100",children:[Object(b.jsx)("input",{id:"titlebarSearch01",type:"text",className:"form-control",name:"query",placeholder:e.placeholder,value:c.query,onChange:function(e){return d.apply(this,arguments)},"aria-label":"Search Query","aria-describedby":"titlebarSearch02"}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{id:"titlebarSearch02",type:"button",className:"btn btn-sm btn-outline-secondary",children:Object(b.jsx)(p.a,{children:"search"})})})]})})}function w(e){var t=Object(d.c)((function(e){return e.session}));return Object(b.jsxs)(f.b,{className:"navbar-expand-md navbar-light row md-tbar sticky-top justify-content-start",children:[Object(b.jsx)(x,{target:"sideBar01",icon:"menu",toggleType:"modal"}),Object(b.jsx)(f.c,{className:"mr-auto p-1 font-weight-bold",children:e.title}),e.children&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{target:"titleBarNav01",icon:"more_vert"}),Object(b.jsx)(f.d,{id:"titleBarNav01",className:"justify-content-end order-last order-md-4",children:e.children})]}),Object(b.jsxs)(f.a,{className:"order-md-last",asList:!0,children:[Object(b.jsx)(P,{}),Object(b.jsx)(k,{session:t,user:t})]})]})}function k(e){var t=Object(d.b)();function n(){return(n=Object(s.a)(a.a.mark((function n(c){var r,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,n.next=4,fetch("/api/auth/signout",{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.authToken)}});case 4:return r=n.sent,n.next=7,r.json();case 7:if(s=n.sent,r.ok){n.next=10;break}throw new Error(s.message);case 10:t({type:"session/reset"}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.error("Failed to sign out. ".concat(n.t0));case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))).apply(this,arguments)}var c=[{path:"/users/".concat(e.user.username),title:"Profile",icon:"person"},{path:"/settings",title:"Settings",icon:"settings"},{title:"Sign Out",icon:"logout",handleClick:function(e){return n.apply(this,arguments)}}];return Object(b.jsxs)(f.e,{children:[Object(b.jsx)(f.f,{className:"px-0 mx-1 d-flex align-items-center",children:Object(b.jsx)(O.j,{className:"md-pfl-xs md-pfl-round",session:e.session,user:e.user})}),Object(b.jsx)(f.g,{className:"dropdown-menu-right",children:c.map((function(e,t){return Object(b.jsx)(N,{path:e.path,exact:e.exact,title:e.title,icon:e.icon,handleClick:e.handleClick},t)}))})]})}function P(e){return Object(b.jsxs)(f.e,{className:"mx-1 my-2",children:[Object(b.jsx)(h.c,{className:"md-btn p-2 d-flex align-items-center",children:Object(b.jsx)(p.a,{children:"notifications"})}),Object(b.jsx)(f.g,{className:"dropdown-menu-right",children:Object(b.jsx)(f.h,{children:"Coming Soon!"})})]})}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var c=n(11),a=n(49),r=(n(0),n(31)),s=n(3),i=n(1);function o(e){return Object(i.jsx)("div",{className:Object(s.b)("list-group",e.className),children:e.children})}function l(e){return Object(i.jsx)("div",{className:Object(s.b)("list-group-item",e.className),children:e.children})}function u(e){return Object(i.jsx)(r.b,{to:e.url,className:Object(s.b)("list-group-item list-group-action",e.className),children:e.children})}function d(e){var t=e.className,n=e.handleClick,r=Object(a.a)(e,["className","handleClick"]);return Object(i.jsx)("button",Object(c.a)(Object(c.a)({type:"button",onClick:n},r),{},{className:Object(s.b)("list-group-item list-group-action",t),children:e.children}))}},57:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var c=n(11),a=n(49),r=(n(0),n(3)),s=n(1);function i(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(s.jsx)("div",Object(c.a)(Object(c.a)({className:Object(r.b)("card",t)},n),{},{children:e.children}))}function o(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(s.jsx)("div",Object(c.a)(Object(c.a)({className:Object(r.b)("card-header",t)},n),{},{children:e.children}))}function l(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(s.jsx)("div",Object(c.a)(Object(c.a)({className:Object(r.b)("card-body",t)},n),{},{children:e.children}))}function u(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(s.jsx)("div",Object(c.a)(Object(c.a)({className:Object(r.b)("card-footer",t)},n),{},{children:e.children}))}function d(e){var t=e.className,n=Object(a.a)(e,["className"]);return Object(s.jsx)("div",Object(c.a)(Object(c.a)({className:Object(r.b)("card card-body",t)},n),{},{children:e.children}))}}}]);
//# sourceMappingURL=7.66f9387f.chunk.js.map
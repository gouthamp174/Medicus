(this.webpackJsonpmedicus=this.webpackJsonpmedicus||[]).push([[24],{150:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return x}));var n=r(12),c=r.n(n),a=r(11),o=r(52),s=r(13),i=r(9),u=r(0),j=r(31),l=r(51),p=r(30),b=r(33),d=r(17),h=r(1);function f(e){return Object(h.jsx)(l.l,{children:Object(h.jsx)(d.e,{children:Object(h.jsx)(d.g,{children:Object(h.jsx)(d.a,{className:"md-font-sm text-center text-muted",children:"No report available"})})})})}function m(e){var t=new Date(e.report.date);return Object(h.jsx)(l.l,{children:Object(h.jsx)(d.e,{children:Object(h.jsxs)(d.g,{children:[Object(h.jsx)(d.a,{className:"text-truncate font-weight-bold",children:Object(h.jsx)(p.b,{to:"/appointments/".concat(e.report.appointmentId),children:e.report.name})}),Object(h.jsx)(d.a,{className:"col-auto text-truncate",children:Object(h.jsx)(b.f,{date:t})})]})})})}function O(e){return Object(h.jsx)(l.k,{children:0!==e.reports.length?Object(h.jsx)(h.Fragment,{children:e.reports.map((function(t,r){return Object(h.jsx)(m,{report:t,handleDelete:e.deleteReport},r)}))}):Object(h.jsx)(f,{})})}function x(e){var t=Object(u.useState)({reports:[],limit:10}),r=Object(i.a)(t,2),n=r[0],p=r[1];function b(){return(b=Object(s.a)(c.a.mark((function t(){var r,s,i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="/api/users/".concat(e.user.username,"/labReports"),(s=new URLSearchParams).append("page",Math.ceil(n.reports.length/n.limit)),s.append("limit",n.limit),t.next=7,fetch("".concat(r,"?").concat(s.toString()),{headers:{Authorization:"Bearer ".concat(e.session.authToken)}});case 7:return i=t.sent,t.next=10,i.json();case 10:if(u=t.sent,i.ok){t.next=13;break}throw new Error(u.message);case 13:p((function(e){var t=[].concat(Object(o.a)(e.reports),Object(o.a)(u));return Object(a.a)(Object(a.a)({},e),{},{reports:t})})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Failed to append more reports. ".concat(t.t0));case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(l.e,{children:[Object(h.jsx)(l.a,{title:"Reports"}),Object(h.jsx)(O,{reports:n.reports})]}),Object(h.jsx)(j.a,{callback:function(){return b.apply(this,arguments)}})]})}},52:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(24);var c=r(20);function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=24.8ea0d3c9.chunk.js.map